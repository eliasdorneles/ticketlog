{"id": "tl-006", "title": "Test random ID generation", "created_at": "2026-02-06T19:15:51.241213Z", "updated_at": "2026-02-06T19:17:33.522772Z", "description": "", "type": "task", "status": "closed", "priority": 2, "assignee": null, "labels": [], "closed_at": "2026-02-06T19:17:33.522772Z", "dependencies": [], "notes": ""}
{"id": "tl-1", "title": "Run tl list through a profiler and seek perf improvement opportunities", "created_at": "2026-02-02T23:24:47.991803Z", "updated_at": "2026-02-06T18:58:49.666381Z", "description": "", "type": "task", "status": "closed", "priority": 2, "assignee": null, "labels": [], "closed_at": "2026-02-06T18:58:49.666381Z", "dependencies": [], "notes": ""}
{"id": "tl-2", "title": "tl list: replace table with condensed format and remove Rich dependency", "created_at": "2026-02-02T23:31:32.355786Z", "updated_at": "2026-02-03T08:21:14.255728Z", "description": "## Implementation Plan\n\n### Current State\n- Uses Rich library for Table formatting and colored console output\n- Table displays: ID, Title, Type, Status, Priority, Assignee, Labels\n- Console.print() with Rich markup throughout codebase (~41 uses)\n- Rich is a dependency in pyproject.toml\n\n### Goal\n1. Replace table with condensed line-based format using Unicode status icons\n2. Remove Assignee and Labels columns from list view\n3. **Remove Rich dependency entirely** - replace with ANSI escape codes\n\n### Design\n\n**Output Format**: `<icon> <id> <priority> <title> [<type>]`\n\n**Status Icons** (with colors):\n- \u25cb open (yellow)\n- \u25d0 in_progress (blue)\n- \u25d1 to_review (magenta)\n- \u2713 closed (green/dim)\n\n**Priority colors**:\n- P0: Red, P1: Yellow, P2: White, P3/P4: Dim\n\n### Implementation Steps\n\n#### Phase 1: Add ANSI Color Utilities\n\n1. Create ANSI color codes in `src/ticketlog/utils.py`:\n   ```python\n   # ANSI color codes\n   RESET = \"\\033[0m\"\n   BOLD = \"\\033[1m\"\n   DIM = \"\\033[2m\"\n   \n   # Colors\n   RED = \"\\033[31m\"\n   GREEN = \"\\033[32m\"\n   YELLOW = \"\\033[33m\"\n   BLUE = \"\\033[34m\"\n   MAGENTA = \"\\033[35m\"\n   CYAN = \"\\033[36m\"\n   WHITE = \"\\033[37m\"\n   BRIGHT_BLUE = \"\\033[94m\"\n   ```\n\n2. Add helper functions:\n   - `colorize(text, color)` - wrap text in color codes\n   - `bold(text)` - make text bold\n   - `dim(text)` - make text dim\n\n#### Phase 2: Replace format_table()\n\n1. Remove Rich Table import and usage\n2. Add STATUS_ICONS mapping\n3. Implement line-by-line output with ANSI codes\n4. Format: `{icon} {id} {priority} {title} [{type}]`\n\n#### Phase 3: Replace console.print() Throughout\n\nFiles to update (41 total usages):\n- `src/ticketlog/utils.py` - format_task_detail(), format_table()\n- `src/ticketlog/commands/create.py`\n- `src/ticketlog/commands/update.py`\n- `src/ticketlog/commands/show.py`\n- `src/ticketlog/commands/close.py`\n- `src/ticketlog/commands/dep.py`\n\nReplace patterns:\n- `console.print(\"[red]Error[/red]\")` \u2192 `print(f\"{RED}Error{RESET}\")`\n- `console.print(\"[green]Success[/green]\")` \u2192 `print(f\"{GREEN}Success{RESET}\")`\n- `console.print(\"[bold]Title[/bold]\")` \u2192 `print(f\"{BOLD}Title{RESET}\")`\n- etc.\n\n#### Phase 4: Update Dependencies\n\n1. Remove Rich imports from all files\n2. Remove `rich>=13.0.0` from `pyproject.toml`\n3. Remove `console = Console()` instance\n\n### Files to Modify\n\n1. **src/ticketlog/utils.py**\n   - Add ANSI color codes and helpers\n   - Replace format_table()\n   - Replace format_task_detail()\n   - Remove Rich imports\n\n2. **src/ticketlog/commands/*.py** (5 files)\n   - Replace all console.print() calls\n   - Remove console imports\n\n3. **pyproject.toml**\n   - Remove rich dependency\n\n### Benefits\n\n- **Smaller**: No Rich dependency (~500KB reduction)\n- **Faster startup**: Less imports to load\n- **More portable**: Standard ANSI codes work everywhere\n- **More condensed**: 30-40% vertical space reduction\n- **Better scanning**: Unicode icons for quick status checks\n- **Cleaner list**: Removes rarely-used columns (still in show command)\n\n### Testing\n\n- Various terminal widths\n- Long titles (wrapping)\n- Different status/priority combinations\n- Unicode character rendering\n- ANSI color support in different terminals\n- All command outputs (create, update, show, close, dep, list)\n\n### Compatibility Notes\n\n- ANSI codes work in all modern terminals\n- Windows 10+ supports ANSI natively\n- Fallback: codes are ignored in non-supporting terminals (graceful degradation)", "type": "task", "status": "closed", "priority": 2, "assignee": null, "labels": [], "closed_at": "2026-02-03T08:21:14.255728Z", "dependencies": [], "notes": ""}
{"id": "tl-3", "title": "Add feature: import from beads JsonLines", "created_at": "2026-02-03T08:02:58.820862Z", "updated_at": "2026-02-03T08:02:58.820862Z", "description": "", "type": "task", "status": "open", "priority": 2, "assignee": null, "labels": [], "closed_at": null, "dependencies": [], "notes": ""}
{"id": "tl-4", "title": "Improve ticket ID: make prefix configurable and use 3-letter alphanum instead of sequential ints", "created_at": "2026-02-03T08:07:31.312773Z", "updated_at": "2026-02-06T19:20:37.940126Z", "description": "## Overview\n\nReplace sequential integer IDs (tl-1, tl-2) with random 3-letter alphanumeric IDs (tl-a3f, tl-x9k) and make the prefix configurable. This prevents merge conflicts when tickets are created in different branches and allows project-specific prefixes.\n\n## Motivation\n\n**Problem**: Sequential IDs cause merge conflicts\n- Branch A creates tl-5\n- Branch B creates tl-5 \n- Merge conflict in ticketlog.jl\n\n**Solution**: Random 3-letter IDs\n- Branch A creates tl-a3f\n- Branch B creates tl-x9k\n- No conflict, both entries are unique\n\n## Implementation\n\n### ID Format\n- Format: `{prefix}-{3-char-alphanum}`\n- Character set: lowercase a-z + digits 0-9 (36\u00b3 = 46,656 possible IDs)\n- Collision handling: Check existing IDs and regenerate if needed (max 10 retries)\n\n### Configuration\n- Optional `.ticketlog.toml` file in project root or any parent directory\n- Walks up directory tree until config found or git root reached\n- Falls back to default prefix \"tl\" if no config found\n\nExample `.ticketlog.toml`:\n```toml\n[project]\nprefix = \"tl\"\n```\n\n### Files Added\n- `src/ticketlog/config.py` - Config loading with directory tree walking\n- `.ticketlog.toml` - Example configuration file\n\n### Files Modified\n- `src/ticketlog/storage.py` - Random ID generation, removed sequential tracking\n- All 8 command files - Load config and pass to Storage\n\n## Backward Compatibility\n\n- Old sequential IDs (tl-1, tl-2) continue to work\n- New tickets automatically use random IDs\n- No migration required - old and new IDs coexist in same log", "type": "task", "status": "closed", "priority": 2, "assignee": null, "labels": [], "closed_at": "2026-02-06T19:20:37.940126Z", "dependencies": [], "notes": ""}
{"id": "tl-4oz", "title": "Test with custom prefix", "created_at": "2026-02-06T19:16:45.486474Z", "updated_at": "2026-02-06T19:21:02.347381Z", "description": "", "type": "bug", "status": "closed", "priority": 2, "assignee": null, "labels": [], "closed_at": "2026-02-06T19:21:02.347381Z", "dependencies": [], "notes": ""}
{"id": "tl-5", "title": "Add tl clean command, which should dedupe the log", "created_at": "2026-02-03T08:22:31.999366Z", "updated_at": "2026-02-03T08:58:37.992380Z", "description": "", "type": "task", "status": "closed", "priority": 2, "assignee": null, "labels": [], "closed_at": "2026-02-03T08:58:37.992380Z", "dependencies": [], "notes": ""}
{"id": "tl-h42", "title": "Test random ID again", "created_at": "2026-02-06T19:16:17.378866Z", "updated_at": "2026-02-06T19:17:33.523486Z", "description": "", "type": "task", "status": "closed", "priority": 2, "assignee": null, "labels": [], "closed_at": "2026-02-06T19:17:27.168237Z", "dependencies": [], "notes": ""}
{"id": "tl-l5h", "title": "Third test task", "created_at": "2026-02-06T19:16:22.993342Z", "updated_at": "2026-02-06T19:17:33.525532Z", "description": "", "type": "task", "status": "closed", "priority": 2, "assignee": null, "labels": [], "closed_at": "2026-02-06T19:17:33.525532Z", "dependencies": [], "notes": ""}
{"id": "tl-tdf", "title": "Another test task", "created_at": "2026-02-06T19:16:22.763297Z", "updated_at": "2026-02-06T19:17:33.524530Z", "description": "", "type": "task", "status": "closed", "priority": 2, "assignee": null, "labels": [], "closed_at": "2026-02-06T19:17:33.524530Z", "dependencies": [], "notes": ""}
